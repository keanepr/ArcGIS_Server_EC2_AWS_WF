import arcpy  # Set variables mapx_path = r"C:\GISBootcamp\Assignments\firestations.mapx" sddraft_path = r"C:\GISBootcamp\Assignments\Lesson 8\firestations_map_service.sddraft" sd_path = r"C:\GISBootcamp\Assignments\Lesson 8\firestations_map_service.sd"  # Load the .mapx file mapx_project = arcpy.mp.ArcGISProject(mapx_path) map_obj = mapx_project.listMaps()[0]  # should be "firestations"  # Create Sharing Draft → STANDALONE_SERVER → MAP_IMAGE sharing_draft = map_obj.getWebLayerSharingDraft("STANDALONE_SERVER", "MAP_IMAGE", "firestations_map_service")  # Export to SDDraft sharing_draft.exportToSDDraft(sddraft_path)  # Stage Service Definition (.sd) arcpy.StageService_server(sddraft_path, sd_path)  print("✅ Service Definition (.sd) created at:", sd_path)
import arcpy  # Use CURRENT open project (your MapServiceProject.aprx) map_proj = arcpy.mp.ArcGISProject("CURRENT") map_obj = map_proj.listMaps("firestations")[0]  # must match your map name exactly  # Set output paths sddraft_path = r"C:\GISBootcamp\Assignments\Lesson 8\firestations_map_service.sddraft" sd_path = r"C:\GISBootcamp\Assignments\Lesson 8\firestations_map_service.sd"  # Create Sharing Draft → STANDALONE_SERVER → MAP_IMAGE sharing_draft = map_obj.getWebLayerSharingDraft("STANDALONE_SERVER", "MAP_IMAGE", "firestations_map_service")  # Export to SDDraft sharing_draft.exportToSDDraft(sddraft_path)  # Stage Service Definition (.sd) arcpy.StageService_server(sddraft_path, sd_path)  print("✅ Service Definition (.sd) created at:", sd_path)
